
# 了解进程与线程
## 进程


### 何谓进程

<strong>所有运行中的任务通常对应一个进程</strong>

> 进程指的是处于运行过程中的程序，并且具有一定的独立功能，进程是资源分配和调度的一个独立单位

> 当一个程序进入内存运行时，即便成一个进程

### 进程的三个特征
1. 独立性：每个进程都有自己的独立区域，没有经过进程本身允许的情况下，不允许访问其他进程
2. 动态性：进程与程序的区别在于此，程序只是一个静态的指令集合，而进程则是一个正在系统中活动的指令集合，具有时间观念，并且具有自己的生命周期
3. 并发性：在单核处理器上，多个进程可以并发执行，并且不会相互影响

#### 如何连接进程的并发与并行
> 并发其实就是在同一时刻只会有一条指令执行，但多个进程指令被快速切换，给人造成了好像多个进程在同时运行的感觉，但其实不是这样的！

> 并行则是多个进程同时在多个处理器上执行



<hr />

## 线程
> 多线程扩展了多进程的概念，使得同一个进程可以同时并发处理多个任务。线程也被称作轻量级进程，线程是进程的执行单元。当进程被初始化之后，主线程就被创建了。对于大多数应用来说，通常仅要求有一个主线程。


1. 一个进程可以有多个线程，一个线程必须有一个父进程，线程可以共享自己的堆栈，自己的程序计数器和自己的局部变量，但不拥有系统资源，它与父进程的其他线程共享该进程所拥有的全部资源。因为多个线程共享父进程里的全部资源，因此我们需要确保同一线程不会妨碍同一进程里的其他线程。

2. <strong>线程是独立运行的，并不知道进程中还有其他线程存在，线程的执行时抢占式的，也就是说，当前运行的线程在任何时候都可能被挂起，以便另外一个线程可以运行</strong>

3. 一个线程可以创建和撤销另一个线程，同一个进程中的多个线程之间可以并发执行
4. 从逻辑角度来看，多线程存在于一个应用程序之中，让一个应用程序可以有多个执行部分同时执行，但操作系统无需将多个线程看作多个独立的应用，对多线程实现调度和管理以及资源分配，线程的调度和管理由进程本身负责完成



### 总结：
简而言之，一个程序运行后至少有一个进程，一个进程里可以包含多个线程，但至少要包含一个线程

> 操作系统可以同时执行多个任务，每个任务就是进程，进程可以同时执行多个任务，每个任务就是一个线程

### 优点
1. 进程之间不可以共享内存，但是线程之间共享内存很容易，线程在程序中是独立的、并发的执行流，与分割的进程相比，进程中线程之间的隔离程度比较小，因此并发性高，它们共享内存，文件句柄和每个进程的状态，而进程则拥有独立的内存空间，
> 线程比进程拥有更高级的性能，因为同一个进程中的线程都共享同一个进程的虚拟空间，包括：进程代码段，进程公有数据。利用这些数据，线程很容易相互通信

2. 系统创建进程则需要为该进程重新分配独立的内存空间，并分配大量的相应的系统资源，开销大，而创建线程则开销很小，因此使用多线程进行多任务并发则比多进程的效率高
3. JAVA对多线程的支持极大简化了多线程编程

### 应用
<ul>
  <li>浏览器同时可以下载多个图片</li>
  <li>1个web服务器可以同时响应多个请求</li>
  <li>JVM提供的线程进行垃圾回收</li>
</ul>

<hr />

# 创建和启动线程

## 继承Thread类来创建线程

1. 定义Thread类的子类，重写该类的run()方法，该run()方法就表示线程所要完成的具体任务
2. 创建Thread子类的实例，即创建了线程对象
3. 调用线程对象的start方法启动线程







记得看疯狂JAVA讲义的4.6深入数组
